---
title: "Kiá»ƒm tra vÃ  sá»­a lá»—i file BibTeX"
format: html
execute:
  echo: true
  warning: true
  message: true
---

# lá»‡nh bash
source/dtcs_dtt_clean.bib



```{r}
# ğŸ“¦ CÃ i Ä‘áº·t vÃ  náº¡p cÃ¡c gÃ³i cáº§n thiáº¿t
if (!require("bib2df")) install.packages("bib2df")
if (!require("dplyr")) install.packages("dplyr")
library(bib2df)
library(dplyr)

# ğŸ“‚ ÄÆ°á»ng dáº«n Ä‘áº¿n file BibTeX cáº§n kiá»ƒm tra
bib_path <- "source/dtcs_dtt_.bib"

# ğŸ› ï¸ Thá»­ Ä‘á»c file .bib vÃ  báº¯t lá»—i náº¿u cÃ³
bib_df <- tryCatch(
  {
    bib2df(bib_path)
  },
  error = function(e) {
    message("âŒ Lá»—i khi Ä‘á»c file BibTeX: ", e$message)
    return(NULL)
  }
)

# ğŸ“‹ Náº¿u thÃ nh cÃ´ng, hiá»ƒn thá»‹ cáº¥u trÃºc vÃ  cÃ¡c entry máº«u
if (!is.null(bib_df)) {
  # ğŸ‘€ Hiá»ƒn thá»‹ tÃªn cÃ¡c cá»™t hiá»‡n cÃ³
  cat("âœ… File BibTeX Ä‘á»c thÃ nh cÃ´ng. CÃ¡c trÆ°á»ng hiá»‡n cÃ³ lÃ :\n")
  print(names(bib_df))

  # ğŸ“‹ Hiá»ƒn thá»‹ 10 dÃ²ng Ä‘áº§u vá»›i cÃ¡c cá»™t phá»• biáº¿n (náº¿u cÃ³)
  bib_df %>%
    select(any_of(c("BIBTEXKEY", "AUTHOR", "TITLE", "YEAR", "ENTRYTYPE"))) %>%
    head(10) %>%
    print()

  # ğŸ’¾ Ghi láº¡i file BibTeX sáº¡ch lá»—i
  out_path <- "source/dtcs_dtt_clean.bib"
  df2bib(bib_df, file = out_path)
  cat("âœ… ÄÃ£ ghi láº¡i file sáº¡ch lá»—i táº¡i:", out_path, "\n")
}

```

